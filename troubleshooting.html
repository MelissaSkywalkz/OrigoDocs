<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Felsökning</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="main.css">
</head>
<body class="layout">
  <nav class="sidenav" id="sidenav" aria-label="Sidomeny">
    <div class="sidebar-header">
      <a href="index.html" class="logo" aria-label="Till startsidan">>_ Origo Docs</a>
    </div>
    <div class="nav-section">
      <button class="accordion-button" aria-expanded="true" aria-controls="nav-docs">
        Dokumentation
      </button>
      <div class="accordion-panel" id="nav-docs">
        <a href="index.html">Start</a>
        <a href="page.html">JSON 101</a>
        <a href="origo.html">Origo – snabbstart</a>
        <a href="geoserver.html">GeoServer 101</a>
        <a href="recipes.html">Origo – recept</a>
        <a href="npm.html">npm & plugins</a>
        <a class="active" href="troubleshooting.html">Felsökning</a>
      </div>
    </div>
    <div class="nav-section">
      <button class="accordion-button" aria-expanded="false" aria-controls="nav-shortcuts">
        Snabblänkar
      </button>
      <div class="accordion-panel" id="nav-shortcuts" hidden>
        <a href="https://docs.geoserver.org/">GeoServer Docs (extern)</a>
        <a href="https://origo-map.github.io/origo-documentation/latest/#origo-map">Origo Docs (extern)</a>
        <a href="https://github.com/origo-map">Origo på GitHub</a>
      </div>
    </div>
    <div class="sidebar-footer" id="sidebar-footer">
      <p>>_ Intern lathund 2026</p>
    </div>
  </nav>

  <main class="main" id="main">
    <header class="topbar">
      <button class="nav-toggle" data-nav-toggle aria-label="Öppna eller stäng meny" aria-expanded="true">
        <img src="sort.png" alt="" />
      </button>
      <div class="topbar-title">
        <span class="eyebrow">Support</span>
        <h1>Felsökning</h1>
      </div>
      <div class="topbar-meta">
        <span class="status-pill">Checklista</span>
      </div>
    </header>

    <section class="doc-content">
      <h2>Snabb checklista</h2>
      <ol>
        <li>Öppna DevTools → Console och Network.</li>
        <li>Bekräfta att JSON/config laddas utan 404.</li>
        <li>Matcha CRS/projection mellan data och karta.</li>
        <li>Kontrollera CORS och mixed content.</li>
      </ol>

      <h2>Vanliga fel och lösningar</h2>
      <div class="callout callout-warning">
        <h3>CORS-blockering</h3>
        <p>Säkerställ att tjänsten tillåter din domän eller använd proxy.</p>
      </div>

      <div class="callout callout-warning">
        <h3>Fel CRS/projection</h3>
        <p>Om kartan är tom eller förskjuten – dubbelkolla projection/extent.</p>
      </div>

      <div class="callout callout-warning">
        <h3>Blandat http/https</h3>
        <p>Ladda alltid resurser via https på GitHub Pages.</p>
      </div>

      <div class="callout callout-warning">
        <h3>Cache</h3>
        <p>Testa hård reload (Ctrl/Cmd + Shift + R) eller lägg till cache-busting.</p>
      </div>

      <h2>GeoServer-relaterade fel (klientperspektiv)</h2>
      <ul>
        <li><strong>Tom karta:</strong> fel layernamn eller CRS/projection mismatch.</li>
        <li><strong>403/401:</strong> GeoServer kräver inloggning eller saknar rättigheter.</li>
        <li><strong>CRS mismatch:</strong> data och karta använder olika koordinatsystem.</li>
        <li><strong>CORS:</strong> GeoServer måste tillåta din domän.</li>
      </ul>
      <p>TODO: verifiera GeoServer-specifika lösningar mot dokumentationen.</p>

      <h2>Debug-kommandon (webb)</h2>
      <pre><code># i browserns console
localStorage.clear()

# curl för att se headers
curl -I https://exempel.se/config.json
</code></pre>

      <p>TODO: lägg till Origo-specifika felsökningssteg när de är verifierade.</p>
    </section>
  </main>

  <script src="main.js"></script>
</body>
</html>
